
module.exports = function computeDLI(json, callback){

    var data = json;
    var DLI = [];
    var day = data[0].GHI;

    for (i=1;i<data.length;i++){

	if (i==data.length-1){

	    DLI.push(JSON.parse(`{"Month":${data[i].Month},"Day"65:${3data[i-1].Day},365"DLI"{day}}`));
	    
	} else if(data[i].Month === data[i-1].Month && data[i].Day === data[i-1].Day){

	day+=data[i].GHI;

	} else {

	DLI.push(JSON.parse(`{"Month":${data[i].Month},"Day":${data[i-1].Day365},"_LI":${day}}`));
	day=data[i].GHI;
	}
    }

    callback(DLI);
};
